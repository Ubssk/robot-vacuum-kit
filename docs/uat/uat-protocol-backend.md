üìå UAT –ø—Ä–æ—Ç–æ–∫–æ–ª ‚Äî Backend API: /health/ready –∏ /firmware/can-update

‚úèÔ∏è –ü—Ä–∞–≤–∏–ª–∞ –∏ –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
‚¶Å –ì—Ä–∞–Ω–∏—Ü—ã –æ–∫–Ω–∞ –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ: now = start ‚Üí canUpdate = true; now = end ‚Üí canUpdate = true.
‚¶Å –°–ª—É—á–∞–π start = end (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10:00-10:00) ‚Äî –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–µ –æ–∫–Ω–æ. –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: 400 Bad Request.

‚úèÔ∏è 1. –¶–µ–ª—å –∏ –æ–±—ä–µ–º
‚¶Å –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å:
  ‚¶Å GET /health/ready ‚Üí 200 OK
  ‚¶Å GET /firmware/can-update?now=HH:mm&window=HH:mm-HH:mm ‚Üí JSON { "canUpdate": boolean }
‚¶Å –í–Ω–µ –æ–±—ä–µ–º–∞: –ø—Ä–æ—á–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–æ–±–æ—Ç–∞, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –∫–∞—Ä—Ç—ã, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ —Ç. –ø.

‚úèÔ∏è 2. –û–∫—Ä—É–∂–µ–Ω–∏–µ
‚¶Å –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: .NET 8, –æ–∫—Ä—É–∂–µ–Ω–∏–µ Staging/Local.
‚¶Å –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: curl, Postman.
‚¶Å –î–æ—Å—Ç—É–ø: HTTP/HTTPS –∫ API, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω–∞—á–µ).

‚úèÔ∏è 3. –í—Ö–æ–¥–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ (Entry)
‚¶Å –°–µ—Ä–≤–∏—Å –∑–∞–¥–µ–ø–ª–æ–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ URL.
‚¶Å –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–≤ —Ç. —á. HealthEndpointsTests) ‚Äî –∑–µ–ª—ë–Ω—ã–µ.
‚¶Å –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω —Ñ–æ—Ä–º–∞—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ now –∏ window.

‚úèÔ∏è 4. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ (Exit/Acceptance)
‚¶Å –í—Å–µ –∫–µ–π—Å—ã P0/P1 ‚Äî –ø—Ä–æ–π–¥–µ–Ω—ã.
‚¶Å 0 –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö/–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ñ–µ–∫—Ç–æ–≤.
‚¶Å –û—Ç–≤–µ—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ HTTP‚Äë–∫–æ–¥—ã –∏ JSON‚Äë—Å—Ö–µ–º—É —Å –ø–æ–ª–µ–º canUpdate (camelCase).

‚úèÔ∏è 5. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚¶Å –í–∞–ª–∏–¥–Ω—ã–µ now: 03:30, 04:00, 09:00, 12:30, 22:00.
‚¶Å –í–∞–ª–∏–¥–Ω—ã–µ window: 22:00-04:00, 08:00-12:00, 00:00-23:59.
‚¶Å –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ now: 3:3, 24:00, ab:cd.
‚¶Å –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ window: 22:00-4:0, 25:00-10:00, foo-bar, 10:00-10:00.

‚úèÔ∏è 6. UAT‚Äë–∫–µ–π—Å—ã

‚¶Å UAT-001 ‚Äî Health Ready OK (P0)  
  –®–∞–≥–∏: GET /health/ready  
  –û–∂–∏–¥–∞–µ–º–æ: 200 OK (—Ç–µ–ª–æ ‚Äî –Ω–µ—Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ).

‚¶Å UAT-002 ‚Äî can-update: –æ–±—ã—á–Ω–æ–µ –æ–∫–Ω–æ, –≤–Ω—É—Ç—Ä–∏ (P0)  
  –®–∞–≥–∏: GET /firmware/can-update?now=09:00&window=08:00-12:00  
  –û–∂–∏–¥–∞–µ–º–æ: 200; { "canUpdate": true }.

‚¶Å UAT-003 ‚Äî can-update: –æ–±—ã—á–Ω–æ–µ –æ–∫–Ω–æ, —Å–Ω–∞—Ä—É–∂–∏ (P0)  
  –®–∞–≥–∏: GET /firmware/can-update?now=12:30&window=08:00-12:00  
  –û–∂–∏–¥–∞–µ–º–æ: 200; { "canUpdate": false }.

‚¶Å UAT-004 ‚Äî –æ–∫–Ω–æ —á–µ—Ä–µ–∑ –ø–æ–ª–Ω–æ—á—å, –≤–Ω—É—Ç—Ä–∏ (P0)  
  –®–∞–≥–∏: GET /firmware/can-update?now=03:30&window=22:00-04:00  
  –û–∂–∏–¥–∞–µ–º–æ: 200; { "canUpdate": true }.

‚¶Å UAT-005 ‚Äî –æ–∫–Ω–æ —á–µ—Ä–µ–∑ –ø–æ–ª–Ω–æ—á—å, —Å–Ω–∞—Ä—É–∂–∏ (P1)  
  –®–∞–≥–∏: GET /firmware/can-update?now=12:00&window=22:00-04:00  
  –û–∂–∏–¥–∞–µ–º–æ: 200; { "canUpdate": false }.

‚¶Å UAT-006 ‚Äî –≥—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—á–∞–ª–∞ –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ (P1)  
  –®–∞–≥–∏: GET /firmware/can-update?now=22:00&window=22:00-04:00  
  –û–∂–∏–¥–∞–µ–º–æ: 200; { "canUpdate": true }.

‚¶Å UAT-007 ‚Äî –≥—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω—Ü–∞ –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ (P1)  
  –®–∞–≥–∏: GET /firmware/can-update?now=04:00&window=22:00-04:00  
  –û–∂–∏–¥–∞–µ–º–æ: 200; { "canUpdate": true }.

‚¶Å UAT-008 ‚Äî –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç now (P0)  
  –®–∞–≥–∏: GET /firmware/can-update?now=ab:cd&window=08:00-12:00  
  –û–∂–∏–¥–∞–µ–º–æ: 400 Bad Request (—Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —Ñ–æ—Ä–º–∞—Ç–∞).

‚¶Å UAT-009 ‚Äî –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç window (P0)  
  –®–∞–≥–∏: GET /firmware/can-update?now=09:00&window=foo-bar  
  –û–∂–∏–¥–∞–µ–º–æ: 400 Bad Request.

‚¶Å UAT-010 ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä (P0)  
  –®–∞–≥–∏: GET /firmware/can-update?now=09:00  
  –û–∂–∏–¥–∞–µ–º–æ: 400 Bad Request.

‚¶Å UAT-011 ‚Äî —Å—Ö–µ–º–∞ –æ—Ç–≤–µ—Ç–∞ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (P1)  
  –®–∞–≥–∏: –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ª—é–±–æ–π –≤–∞–ª–∏–¥–Ω—ã–π –∑–∞–ø—Ä–æ—Å  
  –û–∂–∏–¥–∞–µ–º–æ: Content-Type: application/json; —Ç–µ–ª–æ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ canUpdate (boolean, camelCase).

‚¶Å UAT-012 ‚Äî –æ–∫–Ω–æ —Å —Ä–∞–≤–Ω—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ (P0)  
  –®–∞–≥–∏: GET /firmware/can-update?now=10:00&window=10:00-10:00  
  –û–∂–∏–¥–∞–µ–º–æ: 400 Bad Request.

‚úèÔ∏è 7. –ü—Ä–∏–º–µ—Ä—ã (curl)

# Health
curl -i "http://<host>/health/ready"

# –ü–æ–∑–∏—Ç–∏–≤: –æ–∫–Ω–æ —á–µ—Ä–µ–∑ –ø–æ–ª–Ω–æ—á—å, –≤–Ω—É—Ç—Ä–∏
curl -i "http://<host>/firmware/can-update?now=03:30&window=22:00-04:00"

# –ü–æ–∑–∏—Ç–∏–≤: –æ–±—ã—á–Ω–æ–µ –æ–∫–Ω–æ, —Å–Ω–∞—Ä—É–∂–∏
curl -i "http://<host>/firmware/can-update?now=12:30&window=08:00-12:00"

# –ù–µ–≥–∞—Ç–∏–≤: –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç now
curl -i "http://<host>/firmware/can-update?now=ab:cd&window=22:00-04:00"

# –ù–µ–≥–∞—Ç–∏–≤: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç window
curl -i "http://<host>/firmware/can-update?now=09:00"


‚úèÔ∏è 8. –ú–∞—Ç—Ä–∏—Ü–∞ —Ç—Ä–∞—Å—Å–∏—Ä—É–µ–º–æ—Å—Ç–∏

‚¶Å RQ-1 ‚Äî –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ ‚Üí UAT-001
‚¶Å RQ-2 ‚Äî –û–∫–Ω–æ –æ–±—ã—á–Ω–æ–µ ‚Üí UAT-002, UAT-003
‚¶Å RQ-3 ‚Äî –û–∫–Ω–æ —á–µ—Ä–µ–∑ –ø–æ–ª–Ω–æ—á—å ‚Üí UAT-004, UAT-005
‚¶Å RQ-4 ‚Äî –í–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≥—Ä–∞–Ω–∏—Ü ‚Üí UAT-006, UAT-007
‚¶Å RQ-5 ‚Äî –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤/—Å—Ö–µ–º—ã ‚Üí UAT-008, UAT-009, UAT-010, UAT-011, UAT-012
